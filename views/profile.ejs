<%- include('./template/header.ejs') %>
<body>
        <%- include('./template/standardNav.ejs') %>
    <div>
        <div class='col-xs-12' style='min-height:90px; margin-bottom: 50px;'>
            <div class="centered" style='position:relative'>
                    <form class="navbar-form navbar-left col-xs-12" action="/posts/add" method="POST">
                        <div class="form-group">
                            <textarea placeholder="  confess your sins!" style='height:70px; width:900px;display:flex;border-radius:10px;' name="content" id="" cols="30" rows="10"></textarea>
                        </div>
                        <div class="col-xs-12" style='margin-top:10px;'>
                            <button type="submit" class="btn btn-default" style='border-radius:2px;'>Add New Post</button>
                        </div>
                    </form>
            </div>
        </div>
        <% for(let i = 0; i < posts.length; i++){ %>
            <div class='panel panel-default col-xs-offset-2 col-xs-8 post-default' style='min-height:300px; background-color: rgba(44, 44, 44, 0.1);border-radius:15px;padding:15px;'>
            <div style="position:relative;float:right;"><a>delete</a> <a>edit</a></div>
            <div class='panel panel-default post-default' style='padding:20px;margin-top:25px;min-height:180px; background-color: white;border-radius:15px;'>
                <div>
                  <%- posts[i].content %>
                </div>
              </div>
              <!-- <p>1 like</p> -->
              <div style="width:100%;height:30px;">                
                    <form action="">
                        <input  type="text" style="border-radius:15px;border:1px rgba(0, 0, 0, 0.4) solid;width:80%;" placeholder=" add comment...">
                        <button type="submit" style='background:none;border-radius:5px;border:1px rgba(0, 0, 0, 0.4) solid;'>add comment</button>
                    </form>
                </div>
              <div id='hidecomment<%=posts[i].id%>' class='panel panel-default post-default' style='padding-top:5px;padding-left:15px;margin-top:10px;height:35px; background-color: rgba(255, 255, 255, 0.445);border-radius:20px;'>
                <a onclick="showComment('<%=posts[i].id%>')" style='font-size:0.8em;'>View Comments (18)</a>
              </div>
              <div id='showcomment<%=posts[i].id%>' class='panel panel-default post-default' style='padding:15px;padding-top:5px;padding-left:15px;margin-top:10px;min-height:100px; background-color: rgba(255, 255, 255, 0.445);border-radius:20px;display:none;'>
                <a onclick="hideComment('<%=posts[i].id%>')" style='font-size:0.8em;'>Hide Comments</a>
                <div id='showcomment<%=posts[i].id%>' class='panel panel-default post-default' style='padding:30px;margin-top:10px;min-height:75px; background-color: rgba(255, 255, 255, 0.568);border-radius:10px;'>
                  <p style='font-size:0.8em;'>Comment1</p>
                </div>
                <div id='showcomment<%=posts[i].id%>' class='panel panel-default post-default' style='padding:30px;margin-top:10px;min-height:75px; background-color: rgba(255, 255, 255, 0.568);border-radius:10px;'>
                  <p style='font-size:0.8em;'>Comment2</p>
                </div>
                <div id='showcomment<%=posts[i].id%>' class='panel panel-default post-default' style='padding:30px;margin-top:10px;min-height:75px; background-color: rgba(255, 255, 255, 0.568);border-radius:10px;'>
                  <p style='font-size:0.8em;'>Comment3</p>
                </div>
              </div>
            </div>
    </div>
    <% } %>
    <script>
        function showComment(id){
            document.getElementById('showcommentId').style.display='block'
            document.getElementById('hidecommentId').style.display='none'
        }
        function hideComment(id){
            document.getElementById('hidecommentId').style.display='block'
            document.getElementById('showcommentId').style.display='none'
        }
    </script>
</body>
</html>